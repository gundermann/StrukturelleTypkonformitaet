\chapter{Evaluierung}\label{chap_evaluation}
In dem System, welches für die Evaluation der Heuristiken verwendet wird, sind insgesamt 891 \emph{provided Typen} und 7 \emph{required Typen} enthalten. In \tabref{eIShort} sind die Namen der \emph{required Typen} zusammen mit jeweils einem Kürzel und den Namen der strukturell und semantisch matchenden Kombinationen von \emph{provided Typen} aufgeführt, die bei der Exploration ermittelt werden sollen. Die Kürzel dienen im weiteren Verlauf der Identifizierung der \emph{required Typen}.
\begin{table}[h!]
\centering
\small
\begin{tabular}{|p{6cm}|p{1.5cm}|p{6.5cm}|}
\hline
\hline
\centering\textbf{required Typ} & \textbf{Kürzel} & \textbf{Kombination von provided Typen}\\
\hline
\hline
ElerFTFoerderprogrammeProvider & TEI1 & ElerFTStammdatenAuskunftService\\
\hline
FoerderprogrammeProvider & TEI2 & StammdatenAuskunftService\\
\hline
MinimalFoerderprogrammeProvider & TEI3 & StammdatenAuskunftService\\
\hline
IntubatingFireFighter & TEI4 & Doctor, FireFigher\\
\hline
IntubatingFreeing & TEI5 & Doctor, FireFigher\\
\hline
IntubatingPatientFireFighter & TEI6 & Doctor, FireFigher\\
\hline
KOFGPCProvider & TEI7 & ElerFTStammdatenAuskunftService, StammdatenAuskunftService\\
\hline
\hline
\end{tabular}
\caption{Required Typen mit Kürzeln von matchenden Kombinationen von provided Typen für die Evaluation}
 \label{tab:eIShort}
\end{table}
\noindent
\\
Die Deklaration der \emph{required Typen} und der \emph{provided Typen} aus \tabref{eIShort} ist im Anhang \ref{xyz} zu finden. Aufgrund der Geheimhaltungspflicht bzgl. der Implementierungsdetails kann auf die Deklaration der Java-Interfaces, die sich aus dieser Deklaration der \emph{required} und \emph{provided Typen} ableiten lassen, und deren Implementierungen in dieser Arbeit nicht genauer eingegangen werden.
\\\\
Um die Ergebnisse nachstellen zu können, kann die Implementierung, welche im Abschnitt \ref{} beschrieben wurde, mit einer beliebigen Bibliothek, welche sich ebenfalls durch die in Abschnitt \ref{} beschriebene Struktur von Typen abbilden lässt, verwendet werden.

\section{Darstellung der Evaluationsergebnisse}
Die Evaluationsergebnisse werden in der Form von Vier-Felder-Tafeln dargestellt (Beispiel siehe \tabref{vft:beispiel}). Für jedes desired Interface wird eine Vier-Felder-Tafel für jeden Durchlauf der Schleife innerhalb der Methode $\texttt{semanticEval}$ des Explorationsalgorithmus (siehe Abschnitt \ref{sec_semEval}) aufgezeigt. Aus der jeweiligen Tafel geht hervor, wie viele Proxies über die Funktion $\mathit{targetSets}$ (vgl. Abschnitt \ref{sec_semEval}) in dem aktuellen Iterationsschritt erzeugt werden. Der Wert, den die Iterationsvariable $\texttt{i}$ im betrachteten Durchlauf enthält, wird in der oberen rechten Ecke der Tafel abgebildet.
In der Spalte ``positiv'' ist die Anzahl der Proxies verzeichnet, die innerhalb des Durchlaufs im schlimmsten Fall evaluiert werden. Die Zahl in der Spalte ``negativ'' drückt hingegen aus, wie viele der Proxies aufgrund bestimmter Kriterien (bzw. Heuristiken) nicht evaluiert wurden.  Die Zeile ``falsch'' beschreibt die Anzahl der relevanten Proxies, welche die semantische Evaluation nicht bestehen. Dementsprechend stellt die Zeile ``richtig'' die Anzahl der Proxies dar, welche die semantischen Evaluation bestehen.
\\\\
Aus Abschnitt \ref{sec_proxyCount} geht hervor, dass die Anzahl der Proxies, die für ein desired Interface $R$ mit einer Menge von provided Interfaces $T$ über die Funktion $\mathit{proxyCount(R,T)}$ näherungsweise bestimmt werden kann. Für eine vereinfachte Darstellung der Evaluationsergebnisse bzgl. eines desired Interfaces $R$ aus einer Bibliothek $L$ und einem Iterationsschritt $i$ wird die Anzahl der Proxies für die Anzahl von Mengen von provided Interfaces $A$ wie folgt beschrieben:
\begin{gather*}
p(A) = \begin{array}{l|l}
\mathit{proxyCount(R,targetSets(T,i)} & |T| = A \wedge T \in \mathit{cover(R,L)}
\end{array}
\end{gather*}
\noindent
%Für die Anzahl der zu erzeugenden Proxies $P$ wird der höchste mögliche Wert angenommen. Dieser ist von der Anzahl der angebotenen Methoden $am$ sowie der Anzahl der erwarteten Methoden $em$ abhängig und wird wie folgt berechnet: 
%\begin{equation*}
%MK = \frac{am!}{(am-em)!*em!}
%\end{equation*}
%\noindent
%Die Anzahl der angebotenen Methoden $am$ ist wiederum abhängig von den angebotenen Interfaces deren Typ-Konvertierungsvarianten im jeweiligen Durchlauf miteinander kombiniert wurden. Die Anzahl der Kombinationen von Typ-Konvertierungsvarianten innerhalb des Durchlaufs sei mit $TK$ beschrieben. Der Wert für $TK$ berechnet sich in Abhängigkeit von der Nummer des Durchlaufs $d$ und der Anzahl der strukturell passenden angebotenen Interfaces $n$ (siehe auch Abschnitt Explorationskomponente, 2. Stufe, 2. Kombination von Typ-Konvertierungsvarianten).
%\begin{equation*}
%TK = \frac{n!}{(n-d)!*d!}
%\end{equation*}
%\noindent
%Da die Anzahl der angebotenen Methoden von System zu System schwanken kann, sei die Funktion $am(TK)$ eine näherungsweise Darstellung von $am$, in Abhängigkeit von der Anzahl der kombinierten Typ-Konvertierungsvarianten $TK$.\\\\
%Da durch die Heuristiken letztendlich Methoden-Konvertierungsvarianten aus der Suche herausfallen, wird die Anzahl der entsprechenden Methoden-Konvertierungsvarianten in dem jeweiligen Feld der Vier-Felder-Tafeln als Funktion $mk(TK)$ dargestellt, die wie folgt definiert wird:
%\begin{equation*}
%mk(TK) = \frac{am(TK)!}{(am(TK)-em)!*em!}
%\end{equation*}
%\noindent
\tabref{vft:beispiel} zeigt ein Beispiel für eine solche Vier-Felder-Tafel, in der die Ergebnisse des 1. Iterationsschritt dargestellt sind. Dabei wurden Proxies aus 11 Kombinationen von provided Interfaces evaluiert. 10 dieser Kombinationen bestanden die Evaluation nicht. Die Proxies, die aus 20 Kombinationen von provided Interfaces erzeugt werden konnten, wurden durch Heuristiken im Vorfeld aussortiert. Weiterhin zeigt das Beispiel, dass es einen Proxy gab, der die semantische Evaluation bestand.
\vft{1}{$p(10)$}{$p(20)$}{1}{0}{Beispiel: Vier-Felder-Tafel}{vft:beispiel}


\section{Ausgangspunkt}
Für ein \emph{reqiured Typ} können mehrere \emph{provided Typen} gefunden werden, die eine strukturelle Übereinstimmung aufwiesen. \tabref{amountMatchedInterfaces} zeigt die Anzahl der strukturell übereinstimmenden \emph{provided Typen} je \emph{reqiured Typ}. Diese kommen einzeln oder in Kombination für die semantische Evaluation in Frage.
\begin{table}[H]
\centering
\small
\singlespacing
			\begin{tabular}[c]{|>{\centering\arraybackslash}p{2cm}|>{\centering\arraybackslash}p{5cm}|}
			\hline
			\hline
				 \textbf{required Interface} & \textbf{Anzahl strukturell übereinstimmender provided Interfaces} \\
				\hline\hline
				TEI1 & 221 \\
				\hline
				TEI2 & 272\\
				\hline
				TEI3 & 268\\
				\hline
				TEI4 & 75\\
				\hline
				TEI5 & 75\\
				\hline
				TEI6 & 53\\
				\hline
				TEI7 & 346\\				
				\hline
				\hline
			\end{tabular} 
 \caption{Anzahl strukturell übereinstimmender provided Typen je required Typ}
 \label{tab:amountMatchedInterfaces}
\onehalfspacing
\end{table}
\noindent
Die \tabsrefs{tmr_start_tei1}{tmr_start_tei7_2} zeigen die Vier-Felder-Tafeln, in denen die Ergebnisse der benötigten Iterationen innerhalb des Explorationsalgorithmus für jeden der \emph{required Typen} aus \tabref{amountMatchedInterfaces}. Dabei wurden keine Heuristiken verwendet. Somit stellt dies den Ausgangspunkt für die weitere Evaluation dar.
\begin{multicols}{3}
\vft{1}{$p(44)-1$}{0}{1}{0}{Ausgangspunkt für TEI1}{tmr_start_tei1}\columnbreak
\vft{1}{$p(55)-1$}{0}{1}{0}{Ausgangspunkt für TEI2}{tmr_start_tei2}\columnbreak
\vft{1}{$p(50)-1$}{0}{1}{0}{Ausgangspunkt für TEI3}{tmr_start_tei3}
\end{multicols}
\begin{multicols}{2}
\vft{1}{$p(42)$}{0}{0}{0}{Ausgangspunkt für TEI4 \\1. Durchlauf}{tmr_start_tei4_1}\columnbreak
\vft{2}{$p(2247)-1$}{0}{1}{0}{Ausgangspunkt für TEI4 \\2. Durchlauf}{tmr_start_tei4_2}
\end{multicols}
\begin{multicols}{2}
\vft{1}{$p(75)$}{0}{0}{0}{Ausgangspunkt für TEI5 \\1. Durchlauf}{tmr_start_tei5_1}\columnbreak
\vft{2}{$p(2775)-1$}{0}{1}{0}{Ausgangspunkt für TEI5 \\2. Durchlauf}{tmr_start_tei5_2}
\end{multicols}
\begin{multicols}{2}
\vft{1}{$p(41)$}{0}{0}{0}{Ausgangspunkt für TEI6 \\1. Durchlauf}{tmr_start_tei6_1}
\columnbreak
\vft{2}{$p(1323)-1$}{0}{1}{0}{Ausgangspunkt für TEI6 \\2. Durchlauf}{tmr_start_tei6_2}
\end{multicols}
\begin{multicols}{2}
\vft{1}{$p(174)$}{0}{0}{0}{Ausgangspunkt für TEI7 \\1. Durchlauf}{tmr_start_tei7_1}
\columnbreak
\vft{2}{$p(52150)-1$}{0}{1}{0}{Ausgangspunkt für TEI7 \\2. Durchlauf}{tmr_start_tei7_2}
\end{multicols}
\noindent
Für die \emph{required Typen} \emph{TEI4}-\emph{TEI7} werden zwei Durchläufe benötigt, da die semantischen Test nur von einem Proxy bestanden werden, der aus einer Kombination zweier \emph{provided Typen} erzeugt wurde (siehe auch \tabref{eIShort}).

\input{test_tmr}
\input{test_pttf}
\input{test_blnmc}

\section{Ergebnisse für die Kombination der Heuristiken}
Nachdem gezeigt wurde, dass die Exploration durch jede der beschriebenen Heuristiken beschleunigt werden kann. Dabei wurden Exploration mit jeweils einer der Heuristiken durchgeführt. In den folgenden Abschnitten soll evaluiert werden, ob die Verwendung einer Kombination der einzelnen Heuristiken bei der Exploration einen zusätzlichen Vorteil bringt.
\\\\
Hierzu werden die Ergebnisse aller Kombinationen der einzelnen Heuristiken aufgeführt und im Anschluss bewertet.
\subsection{Kombination: LMF + PTTF}
\subsection{Kombination: LMF + BL\_NMC}
\subsection{Kombination: PTTF + BL\_NMC}
\subsection{Kombination: LMF + PTTF + BL\_NMC}