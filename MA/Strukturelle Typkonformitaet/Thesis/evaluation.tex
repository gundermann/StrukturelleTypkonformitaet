\chapter{Evaluierung}\label{chap_evaluation}
Die Evaluierung erfolgt innerhalb von Systemen, in denen mindestens 889 provided Interfaces existieren. Es wird zwischen einem Test-System und einem Heiß-System unterschieden.\\\\
Das Test-System wurde vorrangig für die Evaluation der Heuristik \emph{LMF} verwendet, da diese vom Type-Matcher-Rating abhängen und zur Bestimmung dessen keine Implementierungen der provided Interfaces vorliegen müssen.\\\\
Das Heiß-System wurde vorrangig für die Evaluation der anderen Heuristiken \emph{PTTF} und \emph{BL\_NMC} verwendet. Die provided Interfaces liegen im Heiß-System als Java-Enterprise-Beans vor.

\section{Darstellung der Evaluationsergebnisse}
Die Evaluationsergebnisse werden in der Form von Vier-Felder-Tafeln dargestellt (Beispiel siehe \tabref{vft:beispiel}). Für jedes desired Interface wird eine Vier-Felder-Tafel für jeden Durchlauf der Schleife innerhalb der Methode $\texttt{semanticEval}$ des Explorationsalgorithmus (siehe Abschnitt \ref{sec_semEval}) aufgezeigt. Aus der jeweiligen Tafel geht hervor, wie viele Proxies über die Funktion $\mathit{targetSets}$ (vgl. Abschnitt \ref{sec_semEval}) in dem aktuellen Iterationsschritt erzeugt werden. Der Wert, den die Iterationsvariable $\texttt{i}$ im betrachteten Durchlauf enthält, wird in der oberen rechten Ecke der Tafel abgebildet.
In der Spalte ``positiv'' ist die Anzahl der Proxies verzeichnet, die innerhalb des Durchlaufs im schlimmsten Fall evaluiert werden. Die Zahl in der Spalte ``negativ'' drückt hingegen aus, wie viele der Proxies aufgrund bestimmter Kriterien (bzw. Heuristiken) nicht evaluiert wurden.  Die Zeile ``falsch'' beschreibt die Anzahl der relevanten Proxies, welche die semantische Evaluation nicht bestehen. Dementsprechend stellt die Zeile ``richtig'' die Anzahl der Proxies dar, welche die semantischen Evaluation bestehen.
\\\\
Aus Abschnitt \ref{sec_proxyCount} geht hervor, dass die Anzahl der Proxies, die für ein desired Interface $R$ mit einer Menge von provided Interfaces $T$ über die Funktion $\mathit{proxyCount(R,T)}$ näherungsweise bestimmt werden kann. Für eine vereinfachte Darstellung der Evaluationsergebnisse bzgl. eines desired Interfaces $R$ aus einer Bibliothek $L$ und einem Iterationsschritt $i$ wird die Anzahl der Proxies für die Anzahl von Mengen von provided Interfaces $A$ wie folgt beschrieben:
\begin{gather*}
p(A) = \begin{array}{l|l}
\mathit{proxyCount(R,targetSets(T,i)} & |T| = A \wedge T \in \mathit{cover(R,L)}
\end{array}
\end{gather*}
\noindent
%Für die Anzahl der zu erzeugenden Proxies $P$ wird der höchste mögliche Wert angenommen. Dieser ist von der Anzahl der angebotenen Methoden $am$ sowie der Anzahl der erwarteten Methoden $em$ abhängig und wird wie folgt berechnet: 
%\begin{equation*}
%MK = \frac{am!}{(am-em)!*em!}
%\end{equation*}
%\noindent
%Die Anzahl der angebotenen Methoden $am$ ist wiederum abhängig von den angebotenen Interfaces deren Typ-Konvertierungsvarianten im jeweiligen Durchlauf miteinander kombiniert wurden. Die Anzahl der Kombinationen von Typ-Konvertierungsvarianten innerhalb des Durchlaufs sei mit $TK$ beschrieben. Der Wert für $TK$ berechnet sich in Abhängigkeit von der Nummer des Durchlaufs $d$ und der Anzahl der strukturell passenden angebotenen Interfaces $n$ (siehe auch Abschnitt Explorationskomponente, 2. Stufe, 2. Kombination von Typ-Konvertierungsvarianten).
%\begin{equation*}
%TK = \frac{n!}{(n-d)!*d!}
%\end{equation*}
%\noindent
%Da die Anzahl der angebotenen Methoden von System zu System schwanken kann, sei die Funktion $am(TK)$ eine näherungsweise Darstellung von $am$, in Abhängigkeit von der Anzahl der kombinierten Typ-Konvertierungsvarianten $TK$.\\\\
%Da durch die Heuristiken letztendlich Methoden-Konvertierungsvarianten aus der Suche herausfallen, wird die Anzahl der entsprechenden Methoden-Konvertierungsvarianten in dem jeweiligen Feld der Vier-Felder-Tafeln als Funktion $mk(TK)$ dargestellt, die wie folgt definiert wird:
%\begin{equation*}
%mk(TK) = \frac{am(TK)!}{(am(TK)-em)!*em!}
%\end{equation*}
%\noindent
\tabref{vft:beispiel} zeigt ein Beispiel für eine solche Vier-Felder-Tafel, in der die Ergebnisse des 1. Iterationsschritt dargestellt sind. Dabei wurden Proxies aus 11 Kombinationen von provided Interfaces evaluiert. 10 dieser Kombinationen bestanden die Evaluation nicht. Die Proxies, die aus 20 Kombinationen von provided Interfaces erzeugt werden konnten, wurden durch Heuristiken im Vorfeld aussortiert. Weiterhin zeigt das Beispiel, dass es einen Proxy gab, der die semantische Evaluation bestand.
\vft{1}{$p(10)$}{$p(20)$}{1}{0}{Beispiel: Vier-Felder-Tafel}{vft:beispiel}

\input{testsystem}
%\input{mainsystem}